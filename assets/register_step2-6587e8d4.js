import{g as B,q as N,u as M,h as v,k as U,L as $,M as E,a as h,o as b,c as I,b as s,w as e,f as t,i as a,N as F,O as L,P as O,l as d,F as R,d as A,m as P,V as T,t as i,p as j,e as z,_ as G}from"./index-7891c5ed.js";const c=u=>(j("data-v-ff7512b7"),u=u(),z(),u),H={class:"container"},J=c(()=>t("div",{class:"tip"},[t("h1",null,"确认挂号信息")],-1)),K={class:"card-header"},Q=c(()=>t("span",null,"请选择就诊人",-1)),W={class:"user"},X=c(()=>t("div",{class:"card-header"},[t("span",null,"挂号信息")],-1)),Y=c(()=>t("div",{class:"cell-item"}," 就诊日期: ",-1)),Z=c(()=>t("div",{class:"cell-item"}," 就诊医院: ",-1)),ee=c(()=>t("div",{class:"cell-item"}," 就诊科室: ",-1)),te=c(()=>t("div",{class:"cell-item"}," 医生名称: ",-1)),se=c(()=>t("div",{class:"cell-item"}," 医生职称: ",-1)),ae=c(()=>t("div",{class:"cell-item"}," 医生专长: ",-1)),le=c(()=>t("div",{class:"cell-item"}," 医生服务费: ",-1)),oe={class:"btn"},ce=B({__name:"register_step2",setup(u){let k=N(),y=M(),f=v([]),l=v({}),p=v(-1);U(()=>{q(),w()});const q=async()=>{let o=await $();o.code==200&&(f.value=o.data)},w=async()=>{let o=await E(k.query.docid);o.code==200&&(l.value=o.data)},C=o=>{p.value=o},D=async()=>{let o=l.value.hoscode,g=l.value.id,m=f.value[p.value].id,_=await F(o,g,m);_.code==200?y.push({path:"/user/order",query:{orderId:_.data}}):L({type:"error",message:_.message})},S=()=>{y.push({path:"/user/patient",query:{type:"add"}})};return(o,g)=>{const m=h("el-button"),_=h("el-card"),r=h("el-descriptions-item"),V=h("el-descriptions");return b(),I("div",H,[J,s(_,{class:"box-card"},{header:e(()=>[t("div",K,[Q,s(m,{type:"primary",icon:a(O),onClick:S},{default:e(()=>[d("添加就诊人")]),_:1},8,["icon"])])]),default:e(()=>[t("div",W,[(b(!0),I(R,null,A(a(f),(n,x)=>(b(),P(T,{onClick:de=>C(x),key:n.id,class:"item",user:n,index:x,currentIndex:a(p)},null,8,["onClick","user","index","currentIndex"]))),128))])]),_:1}),s(_,{class:"box-card"},{header:e(()=>[X]),default:e(()=>[s(V,{class:"margin-top",column:2,border:""},{default:e(()=>[s(r,null,{label:e(()=>[Y]),default:e(()=>[d(" "+i(a(l).workDate),1)]),_:1}),s(r,null,{label:e(()=>[Z]),default:e(()=>{var n;return[d(" "+i((n=a(l).param)==null?void 0:n.hosname),1)]}),_:1}),s(r,null,{label:e(()=>[ee]),default:e(()=>{var n;return[d(" "+i((n=a(l).param)==null?void 0:n.depname),1)]}),_:1}),s(r,null,{label:e(()=>[te]),default:e(()=>[d(" "+i(a(l).docname),1)]),_:1}),s(r,null,{label:e(()=>[se]),default:e(()=>[d(" "+i(a(l).title),1)]),_:1}),s(r,null,{label:e(()=>[ae]),default:e(()=>[d(" "+i(a(l).skill),1)]),_:1}),s(r,null,{label:e(()=>[le]),default:e(()=>[d(" "+i(a(l).amount),1)]),_:1})]),_:1})]),_:1}),t("div",oe,[s(m,{type:"primary",disabled:a(p)==-1,onClick:D},{default:e(()=>[d("确认挂号")]),_:1},8,["disabled"])])])}}});const re=G(ce,[["__scopeId","data-v-ff7512b7"]]);export{re as default};
